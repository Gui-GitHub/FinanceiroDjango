{% extends 'base.html' %}
{% load static %}
{% block title %}Alterar Senha{% endblock %}

{% block content %}
<section id="editar-senha" class="section-padding">
  <div class="container">
    <div class="section-header text-center">
      <h2 class="section-title wow fadeInDown" data-wow-delay="0.3s">Alterar Senha</h2>
      <p>Atualize sua senha de forma segura.</p>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8">
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} text-center">{{ message }}</div>
          {% endfor %}
        {% endif %}

        <form method="POST" class="wow fadeInUp" data-wow-delay="0.4s">
          {% csrf_token %}

          <div class="form-group position-relative">
            <label for="current_password">Senha Atual</label>
            <input type="password" id="current_password" name="current_password" class="form-control"
                   placeholder="Digite sua senha atual" required autocomplete="current-password">
            <span toggle="#current_password" class="bi bi-eye toggle-password"
                  style="position:absolute; right:10px; top:38px; cursor:pointer; font-size:1.2rem;"></span>
          </div>

          <div class="form-group position-relative">
            <label for="new_password">Nova Senha</label>
            <input type="password" id="new_password" name="new_password" class="form-control"
                   placeholder="Digite a nova senha" required autocomplete="new-password">
            <span toggle="#new_password" class="bi bi-eye toggle-password"
                  style="position:absolute; right:10px; top:38px; cursor:pointer; font-size:1.2rem;"></span>
            <small class="form-text text-muted">
              A senha deve conter:
              <ul style="margin:0; padding-left:18px;">
                <li>Mínimo de 4 caracteres</li>
                <li>1 letra maiúscula e 1 minúscula</li>
                <li>1 caractere especial (!@#$...)</li>
              </ul>
            </small>
          </div>

          <div class="form-group position-relative">
            <label for="confirm_password">Confirmar Nova Senha</label>
            <input type="password" id="confirm_password" name="confirm_password" class="form-control"
                   placeholder="Confirme a nova senha" required autocomplete="new-password">
            <span toggle="#confirm_password" class="bi bi-eye toggle-password"
                  style="position:absolute; right:10px; top:38px; cursor:pointer; font-size:1.2rem;"></span>
          </div>

          <button type="submit" class="btn btn-primary btn-block mt-3">Salvar Nova Senha</button>

          <p class="mt-3 text-center">
            <a href="{% url 'editar_perfil' %}" class="text-decoration-none">Voltar à edição de perfil</a>
          </p>
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}